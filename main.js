(()=>{"use strict";navigator.geolocation.getCurrentPosition((function(e){const{latitude:o,longitude:r}=e.coords;return t.unshift(o,r),e}),(function(t){return console.log(t)}),{enableHighAccuracy:!0,timeout:1e3,maximumAge:0});const t=[];document.getElementById("contentLeft");const e=document.getElementById("wheather_search_city"),o=document.getElementById("contentSearch");e.addEventListener("click",(t=>{e.style.display="none",o.style.display="flex"}));const r=new class{constructor(t){this.key="d373d4f7778d4dcba02182405221606",this.city=t}async getWheather(){try{const t=await fetch(`http://api.weatherapi.com/v1/current.json?key=d373d4f7778d4dcba02182405221606&q=${this.city}&lang=es`);return await t.json()}catch(t){console.log(t),alert("Ocurrio un error a la hora de obtener el clima")}}changeLocation(t){try{this.city=t}catch(t){console.log(t.message),alert("Ocurrio un error a la hora de cambiar la ciudad")}}async geolocation(t,e){try{this.latitude=t,this.longitude=e;const o=await fetch(`http://api.weatherapi.com/v1/current.json?key=d373d4f7778d4dcba02182405221606&q=${this.latitude+","+this.longitude}&lang=es`),r=await o.json();return console.log(r),r}catch(t){console.log(t.message),alert("Error al obtenr la geolocalizacion")}}}("Monseñor nouel"),s=new class{constructor(){this.temperture=document.getElementById("wheather-temperture"),this.description=document.getElementById("wheather-description"),this.ilustratorLeft=document.getElementById("whether-principal-ilustrator"),this.day=document.getElementById("wheather-day"),this.date=document.getElementById("wheather-date"),this.location=document.getElementById("wheather-location"),this.ilustratorForecastPresent=document.getElementById("wheather-forecast-ilustrator-present"),this.maxTempForecastPresent=document.getElementById("wheather-forecast-tempMax-present"),this.minTempForecastPresent=document.getElementById("wheather-forecast-tempMin-present"),this.ilustratorForecastTomorrow=document.getElementById("wheather-forecast-ilustrator-tomorrow"),this.maxTempForecastTomorrow=document.getElementById("wheather-forecast-tempMax-tomorrow"),this.minTempForecastTomorrow=document.getElementById("wheather-forecast-tempMin-tomorrow"),this.ilustratorForecastThirdDay=document.getElementById("wheather-forecast-ilustrator-thirdDay"),this.maxTempForecastThirdDay=document.getElementById("wheather-forecast-tempMax-thirdDay"),this.minTempForecastThirdDay=document.getElementById("wheather-forecast-tempMin-thirdDay"),this.speedWind=document.getElementById("wheather-speedWind"),this.humidity=document.getElementById("wheather-humidity"),this.visibility=document.getElementById("wheather-visibility"),this.airPresure=document.getElementById("wheather_airPresure")}render(t,e){this.temperture.textContent=t.current.temp_c,this.description.textContent=t.current.condition.text,this.description.textContent.includes("Soleado")||this.description.textContent.includes("soleado")?(this.ilustratorLeft.src="sources/icon/wheather_icon/animated/day.svg",this.ilustratorForecastPresent.src="sources/icon/wheather_icon/animated/day.svg",this.ilustratorForecastTomorrow.src="sources/icon/wheather_icon/animated/day.svg",this.ilustratorForecastThirdDay.src="sources/icon/wheather_icon/animated/day.svg"):this.description.textContent.includes("Lluvia")||this.description.textContent.includes("lluvia")?(this.ilustratorLeft.src="sources/icon/wheather_icon/animated/rainy-5.svg",this.ilustratorForecastPresent.src="sources/icon/wheather_icon/animated/rainy-5.svg",this.ilustratorForecastTomorrow.src="sources/icon/wheather_icon/animated/rainy-5.svg",this.ilustratorForecastThirdDay.src="sources/icon/wheather_icon/animated/rainy-5.svg"):this.description.textContent.includes("Despejado")||this.description.textContent.includes("despejado")?(this.ilustratorLeft.src="sources/icon/wheather_icon/animated/cloudy.svg",this.ilustratorForecastPresent.src="sources/icon/wheather_icon/animated/cloudy.svg",this.ilustratorForecastTomorrow.src="sources/icon/wheather_icon/animated/cloudy.svg",this.ilustratorForecastThirdDay.src="sources/icon/wheather_icon/animated/cloudy.svg"):this.description.textContent.includes("Nublado")||this.description.textContent.includes("nublado")?(this.ilustratorLeft.src="sources/icon/wheather_icon/animated/cloudy-day-1.svg",this.ilustratorForecastPresent.src="sources/icon/wheather_icon/animated/cloudy-day-1.svg",this.ilustratorForecastTomorrow.src="sources/icon/wheather_icon/animated/cloudy-day-1.svg",this.ilustratorForecastThirdDay.src="sources/icon/wheather_icon/animated/cloudy-day-1.svg"):this.description.textContent.includes("Ligeras precipitaciones")&&(this.ilustratorLeft.src="sources/icon/wheather_icon/animated/rainy-3.svg",this.ilustratorForecastPresent.src="sources/icon/wheather_icon/animated/rainy-3.svg",this.ilustratorForecastTomorrow.src="sources/icon/wheather_icon/animated/rainy-3.svg",this.ilustratorForecastThirdDay.src="sources/icon/wheather_icon/animated/rainy-3.svg"),this.maxTempForecastPresent.textContent=Math.round(e.forecast.forecastday[0].day.maxtemp_c)+"°C",this.minTempForecastPresent.textContent=Math.round(e.forecast.forecastday[0].day.mintemp_c)+"°C",this.maxTempForecastTomorrow.textContent=Math.round(e.forecast.forecastday[1].day.maxtemp_c)+"°C",this.minTempForecastTomorrow.textContent=Math.round(e.forecast.forecastday[1].day.mintemp_c)+"°C",this.maxTempForecastThirdDay.textContent=Math.round(e.forecast.forecastday[2].day.maxtemp_c)+"°C",this.minTempForecastThirdDay.textContent=Math.round(e.forecast.forecastday[2].day.mintemp_c)+"°C",this.speedWind.textContent=t.current.wind_mph,this.humidity.textContent=t.current.humidity+"%",this.visibility.textContent=t.current.vis_miles+" miles",this.airPresure.textContent=t.current.pressure_mb+" mb",this.location.textContent=t.location.name+` /${t.location.country}`}},a=new class{constructor(t){this.key="d373d4f7778d4dcba02182405221606",this.city=t}async getFuture(){const t=await fetch(`http://api.weatherapi.com/v1/forecast.json?key=d373d4f7778d4dcba02182405221606&q=${this.city}&days=5&lang=es`),e=await t.json();return console.log(e),e}}(r.city);async function i(){const e=await r.getWheather(),o=await a.getFuture();console.log(e),a.getFuture(),r.geolocation(t[0],t[1]),s.render(e,o)}console.log(t),document.getElementById("buttonSend").addEventListener("click",(t=>{const e=document.getElementById("buttonSearch").value;r.changeLocation(e),i()})),document.getElementById("searchGeolocation").addEventListener("click",(async()=>{e.style.display="flex",o.style.display="none";const i=await r.geolocation(t[0],t[1]),n=await a.getFuture();s.render(i,n)})),document.addEventListener("DOMContentLoaded",i())})();